{% extends "layouts/base.html" %}

{% if image %}
{% set socialImage = image %}
{% endif %}

{% block content %}
<div class="bg-brand-blue min-h-screen flex flex-col relative overflow-hidden">

  {% include "layouts/navbar-new.html" %}

  {# Vector Background Doodles #}
  <div class="absolute inset-0 z-0 pointer-events-none opacity-20">
    <svg class="absolute top-40 left-10 text-brand-orange animate-pulse-slow w-64 h-64" fill="currentColor"
      viewBox="0 0 100 100">
      <circle cx="50" cy="50" r="40" />
    </svg>
    <svg class="absolute top-1/4 right-20 text-white animate-float w-48 h-48" fill="none" stroke="currentColor"
      stroke-width="2" viewBox="0 0 100 100">
      <rect x="25" y="25" width="50" height="50" transform="rotate(45 50 50)" />
    </svg>
    <svg class="absolute bottom-1/3 left-1/4 text-brand-orange animate-wiggle w-96 h-96" fill="none"
      stroke="currentColor" stroke-width="1" viewBox="0 0 100 100">
      <path d="M10 50 Q 25 25 50 50 T 90 50" />
    </svg>
  </div>

  <main class="container mx-auto max-w-4xl px-6 py-20 relative z-10 flex-grow">

    {# Title Section #}
    <div class="mb-16 text-center group relative inline-block mx-auto">
      {# Spinning decorative background on hover #}
      <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-brand-orange/5 rounded-lg -rotate-3 scale-110 opacity-0 group-hover:opacity-100 group-hover:rotate-3 transition-all duration-500 -z-10">
      </div>

      <h1
        class="text-5xl md:text-7xl font-black text-brand-orange mb-8 tracking-tighter uppercase relative inline-block z-10 transition-transform duration-300 group-hover:scale-105">
        {{ title }}

        {# Decorator: Underline fills on load #}
        <div class="absolute -bottom-4 left-0 h-2 bg-white/20 rounded-full w-full"></div>
        <div id="title-underline"
          class="absolute -bottom-4 left-0 h-2 bg-brand-orange rounded-full w-0 transition-all duration-1000 ease-out">
        </div>
      </h1>
      <script>
        document.addEventListener('DOMContentLoaded', () => {
          setTimeout(() => {
            document.getElementById('title-underline').classList.remove('w-0');
            document.getElementById('title-underline').classList.add('w-full');
          }, 100);
        });
      </script>
    </div>

    {# Content Container #}
    <div class="bg-gray-900 border-4 border-white rounded-3xl p-8 md:p-12 shadow-2xl relative">
      {# Neobrutalist Shadow #}
      <div class="absolute -inset-1 top-4 left-4 bg-brand-orange rounded-3xl -z-10"></div>

      <article class="prose-project">
        {{ content | safe }}
      </article>

    </div>

  </main>

</div>
{% endblock %}