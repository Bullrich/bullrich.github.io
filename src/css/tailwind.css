@import "tailwindcss";
@import "prismjs/themes/prism-okaidia.css";
@plugin "@tailwindcss/typography";

@theme {
    --color-brand-blue: #15202B;
    --color-brand-orange: #F26522;
    --color-brand-purple: #6C63FF;
    --color-brand-green: #00B87C;
    --font-sans: 'Inter', sans-serif;
}

/* Custom base styles mapping to our theme */
@layer base {
    html {
        scroll-behavior: smooth;
    }

    body {
        background-color: var(--color-brand-blue);
        color: white;
        font-family: var(--font-sans);
    }

    /* Custom Prose Wrapper for Projects */
    .prose-project {
        @apply prose prose-invert prose-lg max-w-none prose-headings:font-bold prose-headings:text-brand-orange prose-a:text-brand-orange prose-a:underline prose-img:rounded-xl prose-img:border-2 prose-img:border-white/20 prose-img:shadow-lg leading-relaxed;
    }

    .prose-project pre {
        @apply !bg-gray-900 !rounded-xl !border-2 !border-white/20 !p-4 !my-8;
        /* Robust overflow handling for mobile Safari */
        display: block !important;
        min-width: 0 !important;
        max-width: 100% !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch;
    }

    .prose-project code {
        @apply !px-1 !rounded;
    }

    /* Fallback for inline code color if not in a syntax block */
    .prose-project code:not([class*="language-"]) {
        @apply !text-brand-purple !bg-gray-800;
    }

    .prose-project a:hover {
        @apply bg-brand-orange text-brand-blue no-underline rounded px-1 transition-all duration-200;
    }

    /* Remove backticks from inline code */
    .prose-project :where(code):not(:where([class~="not-prose"] *))::before {
        content: none !important;
    }

    .prose-project :where(code):not(:where([class~="not-prose"] *))::after {
        content: none !important;
    }

    /* Standard code blocks override for alignment and wrapping - Focus on Safari compatibility */
    .prose-project pre[class*="language-"] {
        display: block !important;
        white-space: pre !important;
        word-wrap: normal !important;
        word-break: normal !important;
        overflow-wrap: normal !important;
        hyphens: none !important;
    }

    .prose-project code[class*="language-"] {
        @apply !p-0 !bg-transparent !text-inherit !shadow-none;
        display: block !important;
        /* Force block for better Safari scrolling if nested */
        white-space: pre !important;
        word-break: normal !important;
        overflow-wrap: normal !important;
    }

    /* Fixed inline code line break */
    .prose-project code:not(pre code) {
        overflow-wrap: break-word !important;
        white-space: pre-wrap !important;
        word-break: break-all !important;
    }
}